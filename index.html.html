<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Upload Picture</title>
<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f6f9;
}

.upload-box{
    width:90%;
    max-width:400px;
    margin:20px auto;
    padding:20px;
    border:2px dashed #ccc;
    border-radius:12px;
    background:#fff;
    text-align:center;
}

.upload-btn{
    background:#1e6fa8;
    color:#fff;
    padding:12px 25px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-size:16px;
}

.upload-btn:hover{
    background:#155d8b;
}

.upload-info{
    margin-top:15px;
    font-size:14px;
    color:#555;
    text-align:left;
}

#imageNumber{
    margin-top:15px;
    font-size:16px;
    font-weight:bold;
    color:#1e6fa8;
    word-break:break-all;
}
</style>
</head>
<body>

<div class="upload-box">
    <h2>Upload Picture</h2>

    <input type="file" id="photo" accept="image/*" hidden>

    <button class="upload-btn" onclick="openPicker()">
        + Upload Picture
    </button>

    <div class="upload-info">
        <ul>
            <li>White or blue background</li>
            <li>No file size limit</li>
            <li>File type: jpg, jpeg, png</li>
            <li>Recent passport size picture</li>
            <li>Face clearly visible without glasses</li>
        </ul>
    </div>

    <div id="imageNumber"></div>

</div>

<script>

// Get last image number from localStorage or start from 0
let imageCount = parseInt(localStorage.getItem('imageCount')) || 0;

const numberBox = document.getElementById("imageNumber");

// Function to format number like 0000001
function formatNumber(num){
    return num.toString().padStart(7, '0'); // 7 digits
}

// Show last number if exists
if(imageCount > 0){
    numberBox.textContent = "file_" + formatNumber(imageCount) + ".png";
}

function openPicker(){
    document.getElementById("photo").click();
}

document.getElementById("photo").addEventListener("change", function(){

    const file = this.files[0];
    if(!file) return;

    if(!file.type.startsWith("image/")){
        alert("Please select a valid image file");
        this.value = "";
        return;
    }

    // Increase count
    imageCount++;

    // Save count in localStorage
    localStorage.setItem('imageCount', imageCount);

    // Show image number like your screenshot
    numberBox.textContent = "file_" + formatNumber(imageCount) + ".png";

    this.value = ""; // dobara same image select kar sakte ho
});
</script>

</body>
</html>
